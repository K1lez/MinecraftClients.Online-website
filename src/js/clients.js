var clients = [
    
    {
        name: 'Kawaii',
        img: 'https://intent.store/product/64/Kawaii-Card-842.png',
        price: 12.49,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'intent.store',
                price: 12.49,
                link: 'https://intent.store/panel?p=BzAsKOKM'
            }
        ]
    },
    
    {
        name: 'Zeroday',
        img: 'https://intent.store/product/3/ZeroDay-Card-842.png',
        price: 14.99,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'intent.store',
                price: 14.99,
                link: 'https://intent.store/panel?p=h1CcCggq'
            }
        ]
    },

    {
        name: 'Tenacity',
        img: 'https://intent.store/product/28/Tenacity-Card-842.png',
        price: 19.99,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'intent.store',
                price: 19.99,
                link: 'https://intent.store/panel?p=K3r30n8A'
            },
            {
                name: 'spezz exchange',
                price: 20,
                link: 'https://spezz.exchange/store/store/product/66-tenacity-client/'
            }
        ]
    },

    
    {
        name: 'Flux',
        img: 'https://preview.redd.it/t3u7wbzv4n671.png?width=640&crop=smart&auto=webp&s=3383c13dcbd390a8f4f7a73517893955eba79e0f',
        price: 20,
        button_text: 'Purchase',
        source: 'flux.today',
        sellers: [
            {
                name: 'Flux\'s website',
                price: 20,
                link: 'https://flux.today/'
            },
            {
                name: 'MinecraftClients',
                price: 22,
                link: 'https://minecraftclients.com/'
            }
        ]
    },

    {
        name: 'Novoline',
        img: 'https://intent.store/product/38/Novoline-Card-842.png',
        price: 19.99,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'intent.store',
                price: 19.99,
                link: 'https://intent.store/panel?p=o5yrWMVj'
            },
            {
                name: 'spezz exchange',
                price: 19.99,
                link: 'https://spezz.exchange/store/store/product/55-novoline-48/'
            }
        ]
    },

    
    {
        name: 'Rise',
        img: 'https://intent.store/product/25/Rise-Card-842.png',
        price: 20,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'intent.store',
                price: 20,
                link: 'https://intent.store/panel?p=1v7U307r'
            },
            {
                name: 'spezz exchange',
                price: 20,
                link: 'https://spezz.exchange/store/store/product/61-rise-access-key'
            }
        ]
    },

    
    {
        name: 'Juul',
        img: 'https://intent.store/product/55/Juul-Card-842.png',
        price: 9.99,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'intent.store',
                price: 9.99,
                link: 'https://intent.store/panel?p=WjMRDHBC'
            },
            {
                name: 'MinecraftClients',
                price: 10,
                link: 'https://minecraftclients.com/'
            }
        ]
    },    

    {
        name: 'Monsoon',
        img: 'https://intent.store/product/65/Monsoon-Card-842.png',
        price: 10,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'intent.store',
                price: 10,
                link: 'https://intent.store/panel?p=bJQlkIId'
            }
        ]
    },

    {
        name: 'Moropheles',
        img: 'https://intent.store/product/58/Moropheles-Card-842.png',
        price: 14.99,
        button_text: 'Purchase',
        source: 'intent.store',
        disclaimer: 'This client is currently unavailable',
        sellers: [
            {
                name: 'intent.store',
                price: 15,
                link: 'https://intent.store/panel?p=bJQlkIId'
            },
            {
                name: 'Vetric',
                price: 14.99,
                link: 'https://vetric.sellix.io/'
            }
        ]
    },

    {
        name: 'Artemis',
        img: 'https://intent.store/product/59/Artemis-Carousel-1920.png',
        price: 14.99,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'MinecraftClients',
                price: 14.99,
                link: 'https://minecraftclients.com/'
            },
            {
                name: 'intent.store',
                price: 15,
                link: 'https://intent.store/panel?p=bJQlkIId'
            },
            {
                name: 'Vetric',
                price: 14.99,
                link: 'https://vetric.sellix.io/'
            },
        ]
    },

    
    {
        name: 'Ketamine',
        img: 'https://intent.store/product/49/Ketamine-Card-842.png',
        price: 14.99,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'intent.store',
                price: 20,
                link: 'https://intent.store/panel?p=bJQlkIId'
            },
            {
                name: 'MinecraftClients',
                price: 20,
                link: 'https://minecraftclients.com/'
            },
        ]
    },

    {
        name: 'Pulsive',
        img: 'https://intent.store/product/18/Pulsive-Card-842.png',
        price: 15,
        button_text: 'Purchase',
        source: 'intent.store',
        sellers: [
            {
                name: 'intent.store',
                price: 20,
                link: 'https://intent.store/panel?p=bJQlkIId'
            },
            {
                name: 'Pulsive Sellix',
                price: 15,
                link: 'https://pulsiveclient.sellix.io/product/610c1c0e83bdc'
            },
        ]
    },

    {
        name: 'Novoline',
        img: 'https://i.ytimg.com/vi/ZswhnwWgB_0/maxresdefault.jpg',
        price: 19.99,
        button_text: 'Purchase',
        source: 'novoline.wtf',
        sellers: [
            {
                name: 'novoline.wtf',
                price: 19.99,
                link: 'https://novoline.wtf/'
            }
        ]
    },

    
    {
        name: 'Azura',
        img: 'https://intent.store/product/27/Azura-Card-842.png',
        price: 0,
        button_text: 'Purchase',
        source: 'intent.store',
        private: true,
        sellers: [
            {
                name: 'intent.store',
                price: 0,
                link: 'https://intent.store/panel?p=739MK2wY'
            },
            {
                name: 'Vetric',
                price: 14.99,
                link: 'https://vetric.sellix.io/'
            },
            {
                name: 'MinecraftClients',
                price: 15,
                link: 'https://minecraftclients.com/'
            }
        ]
    },
    /*
    {
        name: 'Diablo',
        img: 'https://intent.store/product/48/Diablo-Card-842.png',
        price: 20,
        button_text: 'Purchase',
        source: 'intent.store',
        disclaimer: 'This client has been discontinued',
        private: true,
        sellers: [
            {
                name: 'Vetric',
                price: 19.99,
                link: 'https://vetric.sellix.io/'
            },
            //{
            //    name: 'intent.store',
            //    price: 20,
            //    link: 'https://intent.store/panel?p=6af0tufZ'
            //},
            {
                name: 'spezz exchange',
                price: 20,
                link: 'https://spezz.exchange/store/store/product/87-diablo-client/'
            },
            {
                name: 'MinecraftClients',
                price: 23,
                link: 'https://minecraftclients.com/'
            }
        ]
    },*/

    {
        name: 'Moon',
        img: 'https://i.ytimg.com/vi/YV1SNPW0S5k/maxresdefault.jpg',
        price: 19.99,
        button_text: 'Purchase',
        source: 'moonclient.xyz',
        private: true,
        sellers: [
            {
                name: 'MoonClient.xyz',
                price: 19.99,
                link: 'https://moonclient.xyz/'
            },
        ]
    },

    {
        name: 'Vape v4',
        img: 'https://external-preview.redd.it/u7r5ItC4SRvX1TxgjQYlmepZns4FykYshayb3jbHCNQ.jpg?width=640&crop=smart&auto=webp&s=f18608d2dcff3f4fb0857293f932b2d18f0c2ffb',
        price: 34.99,
        button_text: 'Purchase',
        source: 'vape.gg',
        private: true,
        sellers: [
            {
                name: 'Vape.gg',
                price: 34.99,
                link: 'https://vape.gg/'
            },
        ]
    },
    
]

function setupClients() {
    clients.sort((a,b) => a.price - b.price)
    clients.forEach(client => {
        
        var list = document.getElementById("clients-list");

        var card = document.createElement("imgcard");

        var img = document.createElement("img");
        img.src = client.img;

        var title = document.createElement("titlex");
        title.innerText = client.name;

        var source = document.createElement("source");
        source.innerText = client.source;

        var price = document.createElement("price");
        price.innerText = "$" + client.price.toFixed(2);
        if(client.price === 0){
            price.innerText = "Free";
            if(client.private){
                price.innerText += " + Private";
            }
        }

        var btn = document.createElement("imgbtn");
        btn.innerText = client.button_text;
        var sellerText = document.createElement("sellerText");
        if(client.sellers != null && client.sellers.length > 0){
            sellerText.innerText += ' [ ' + client.sellers.length + ' Sellers ]';
        }
        btn.appendChild(sellerText);

        if(client.sellers != null){
            btn.onclick = function(){
                var overlay = document.getElementById("overlay");
                overlay.classList.add("visible")
                
                var container = overlay.getElementsByClassName("container")[0];
                container.classList.add("visible")

                var head = overlay.getElementsByClassName("top")[0];
                
                var titleover = head.getElementsByClassName("titlex")[0];
                titleover.innerText = client.name;

                head.appendChild(titleover);

                
                var sellers = overlay.getElementsByClassName("sellers")[0];
                removeAllChildNodes(sellers);
                
                if(client.disclaimer != null){
                    var sellerDisclaimer = document.createElement("disclaimer");
                    var sellerDisclaimertxt = document.createElement("disclaimertxt");
                    sellerDisclaimertxt.innerText = "Disclaimer";
                    sellerDisclaimer.innerText = client.disclaimer;
                    sellerDisclaimertxt.appendChild(sellerDisclaimer);
                    sellers.appendChild(sellerDisclaimertxt);
                }

                client.sellers.sort((a,b) => a.price - b.price)
                client.sellers.forEach(seller => {
                    var sellerObject = document.createElement("object");
                    var sellerItem = document.createElement("item");
                    var sellerItemName = document.createElement("titlex");
                    var sellerItemBtn = document.createElement("a");
                    sellerItemBtn.href = seller.link;
                    sellerItemBtn.target = "_blank";
                    sellerItemBtn.innerText = "$" + seller.price.toFixed(2);
                    if(seller.price === 0){
                        sellerItemBtn.innerText = "Free";
                    }
                    sellerItemName.innerText = seller.name;
                    sellerItem.appendChild(sellerItemName);
                    sellerItem.appendChild(sellerItemBtn);
                    sellerObject.appendChild(sellerItem);
                    sellers.appendChild(sellerObject);
                });
            };
        }
        
        card.appendChild(img)
        card.appendChild(title)
        card.appendChild(source)
        card.appendChild(price)
        card.appendChild(btn)

        list.appendChild(card);

    });
}

function hideoverlay(event, shouldEventClick) {
    if(shouldEventClick){
        alert(event.target.id);
        if(event.target.id === 'container') {
            return;
        }

    }
    var overlay = document.getElementById("overlay");
    overlay.classList.remove("visible")
    var container = overlay.getElementsByClassName("container")[0];
    container.classList.remove("visible")
}

function removeAllChildNodes(parent) {
    while (parent.firstChild) {
        parent.removeChild(parent.firstChild);
    }
}

setupClients();